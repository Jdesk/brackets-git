<!doctype html>
<!-- The Time Machine GitHub pages theme was designed and developed by Jon Rohan, on Feb 7, 2012. -->
<!-- Follow him for fun. http://twitter.com/jonrohan. Tail his code on https://github.com/jonrohan -->
<html>
<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">

  <link rel="stylesheet" href="stylesheets/stylesheet.css" media="screen">
  <link rel="stylesheet" href="stylesheets/github-dark.css">
  <script type="text/javascript" src="https://ajax.googleapis.com/ajax/libs/jquery/1.7.1/jquery.min.js"></script>
  <script type="text/javascript" src="javascripts/script.js"></script>

  <title>Wordpress-xmlrpc-client</title>
  <meta name="description" content="A PHP XML-RPC client for Wordpress websites">

  <meta name="viewport" content="width=device-width,initial-scale=1">

</head>

<body>

  <div class="wrapper">
    <header>
      <h1 class="title">Wordpress-xmlrpc-client</h1>
    </header>
    <div id="container">
      <p class="tagline">A PHP XML-RPC client for Wordpress websites</p>
      <div id="main" role="main">
        <div class="download-bar">
        <div class="inner">
          <a href="https://github.com/Jdesk/brackets-git/tarball/master" class="download-button tar"><span>Download</span></a>
          <a href="https://github.com/Jdesk/brackets-git/zipball/master" class="download-button zip"><span>Download</span></a>
          <a href="https://github.com/Jdesk/brackets-git" class="code">View Wordpress-xmlrpc-client on GitHub</a>
        </div>
        <span class="blc"></span><span class="trc"></span>
        </div>
        <article class="markdown-body">
          <h1>
<a id="wordpress-xml-rpc-php-client" class="anchor" href="#wordpress-xml-rpc-php-client" aria-hidden="true"><span class="octicon octicon-link"></span></a>Wordpress XML-RPC PHP Client</h1>

<p><a href="https://travis-ci.org/letrunghieu/wordpress-xmlrpc-client"><img src="https://travis-ci.org/letrunghieu/wordpress-xmlrpc-client.svg?branch=master" alt="Build Status"></a> <a href="https://packagist.org/packages/hieu-le/wordpress-xmlrpc-client"><img src="https://poser.pugx.org/hieu-le/wordpress-xmlrpc-client/v/stable.svg" alt="Latest Stable Version"></a> <a href="https://packagist.org/packages/hieu-le/wordpress-xmlrpc-client"><img src="https://poser.pugx.org/hieu-le/wordpress-xmlrpc-client/downloads.svg" alt="Total Downloads"></a> <a href="https://packagist.org/packages/hieu-le/wordpress-xmlrpc-client"><img src="https://poser.pugx.org/hieu-le/wordpress-xmlrpc-client/v/unstable.svg" alt="Latest Unstable Version"></a> <a href="https://packagist.org/packages/hieu-le/wordpress-xmlrpc-client"><img src="https://poser.pugx.org/hieu-le/wordpress-xmlrpc-client/license.svg" alt="License"></a></p>

<p>A PHP client for Wordpress websites that closely implement the <a href="http://codex.Wordpress.org/XML-RPC_WordPress_API">XML-RPC WordPress API</a></p>

<p>Created by <a href="http://www.hieule.info">Hieu Le</a></p>

<p>MIT licensed.</p>

<p>Current version: 2.4.0</p>

<h2>
<a id="features" class="anchor" href="#features" aria-hidden="true"><span class="octicon octicon-link"></span></a>Features</h2>

<ul>
<li>Full test suit built in supporting testing using your own Wordpress site.</li>
<li>
<del>Support error logging to files with Monolog library.</del> Now, erros can be logged in a more felxible way via <strong>error callbacks</strong> (v 2.4.0)</li>
<li>Support UTF-8 content.</li>
<li>Closely implement the whole <a href="http://codex.Wordpress.org/XML-RPC_WordPress_API">XML-RPC WordPress API</a>.</li>
<li>Detail exception will be thrown when errors occurs.</li>
<li>(v2.2) Support proxy and http authentication.</li>
<li>(v2.2.1) Allow value of <code>DateTime</code> class to be convert correctly to <code>datetime.iso8601</code> XML-RPC type,</li>
<li>(v2.4.0) Support using custom User Agent string beside the default User Agent string.</li>
<li>(v2.4.0) Support callbacks on <strong>sending</strong> and <strong>error</strong> events</li>
</ul>

<h2>
<a id="installation" class="anchor" href="#installation" aria-hidden="true"><span class="octicon octicon-link"></span></a>Installation</h2>

<p><del>You will need <a href="https://getcomposer.org/">Composer</a> installed on your machine to use this library</del> <a href="https://getcomposer.org/">Composer</a> now is not required but recommended. Verify that composer is installed by typing this command</p>

<div class="highlight highlight-source-shell"><pre>composer --version</pre></div>

<p>Choose one of the following methods to install <strong>Wordpress XML-RPC PHP Client</strong></p>

<h3>
<a id="your-project-has-used-composer" class="anchor" href="#your-project-has-used-composer" aria-hidden="true"><span class="octicon octicon-link"></span></a>Your project has used composer:</h3>

<p>Add this dependency into your <code>composer.json</code> file</p>

<div class="highlight highlight-source-json"><pre><span class="pl-s"><span class="pl-pds">"</span>hieu-le/wordpress-xmlrpc-client<span class="pl-pds">"</span></span>:<span class="pl-s"><span class="pl-pds">"</span>~2.0<span class="pl-pds">"</span></span></pre></div>

<p>After that, run <code>composer update</code> to install this package.</p>

<h3>
<a id="your-project-does-not-use-composer" class="anchor" href="#your-project-does-not-use-composer" aria-hidden="true"><span class="octicon octicon-link"></span></a>Your project does not use composer:</h3>

<p>Clone or download the archive of this package from <a href="https://github.com/letrunghieu/Wordpress-xmlrpc-client/releases">github</a>. Include all files in the <code>src</code> directory into your project and start using <strong>Wordpress XML-RPC Client</strong>. You have to update the code of this library manually if using it without Composer.</p>

<p>Required PHP extension is <code>xmlrpc</code> extension. The <code>curl</code> extension is optional be recommended.</p>

<h2>
<a id="usage" class="anchor" href="#usage" aria-hidden="true"><span class="octicon octicon-link"></span></a>Usage</h2>

<p>All API call will be executed via an instance of the <code>WordpressClient</code> class. Since version 2.4.0, there is no mandatory parameters in the contructor. <code>endPoint</code>, <code>username</code>, and <code>password</code> can be updated anytime by calling <code>setCredentials</code> method. The last parameter in previous version contructor (which is an instance of <code>\Illuminate\Log\Writer</code> class) is deprecated and will be removed in the next major release. Below is an example of using this library:</p>

<div class="highlight highlight-text-html-php"><pre><span class="pl-s1"><span class="pl-c"># Your Wordpress website is at: http://wp-website.com</span></span>
<span class="pl-s1"><span class="pl-smi">$endpoint</span> <span class="pl-k">=</span> <span class="pl-s"><span class="pl-pds">"</span>http://wp-website.com/xmlrpc.php<span class="pl-pds">"</span></span>;</span>
<span class="pl-s1"></span>
<span class="pl-s1"><span class="pl-c"># The Monolog logger instance</span></span>
<span class="pl-s1"><span class="pl-smi">$wpLog</span> <span class="pl-k">=</span> <span class="pl-k">new</span> <span class="pl-c1">Monolog\</span><span class="pl-c1">Logger</span>(<span class="pl-s"><span class="pl-pds">'</span>wp-xmlrpc<span class="pl-pds">'</span></span>);</span>
<span class="pl-s1"></span>
<span class="pl-s1"><span class="pl-c"># Create client instance</span></span>
<span class="pl-s1"><span class="pl-smi">$wpClient</span> <span class="pl-k">=</span> <span class="pl-k">new</span> <span class="pl-c1">\HieuLe\WordpressXmlrpcClient\</span><span class="pl-c1">WordpressClient</span>();</span>
<span class="pl-s1"><span class="pl-c"># Log error</span></span>
<span class="pl-s1"><span class="pl-smi">$wpClient</span><span class="pl-k">-&gt;</span>onError(<span class="pl-k">function</span>(<span class="pl-smi">$error</span>, <span class="pl-smi">$event</span>) <span class="pl-k">use</span> (<span class="pl-smi">$wpLog</span>){</span>
<span class="pl-s1">    <span class="pl-smi">$wpLog</span><span class="pl-k">-&gt;</span>addError(<span class="pl-smi">$error</span>, <span class="pl-smi">$event</span>);</span>
<span class="pl-s1">});</span>
<span class="pl-s1"></span>
<span class="pl-s1"><span class="pl-c"># Set the credentials for the next requests</span></span>
<span class="pl-s1"><span class="pl-smi">$wpClient</span><span class="pl-k">-&gt;</span>setCredentials(<span class="pl-smi">$endpoint</span>, <span class="pl-s"><span class="pl-pds">'</span>username<span class="pl-pds">'</span></span>, <span class="pl-s"><span class="pl-pds">'</span>password<span class="pl-pds">'</span></span>);</span>
<span class="pl-s1"></span></pre></div>

<p>If you have used logging feture of previous version of this library, you should update your code to use the new way of loggin as above, the Monolog instance can be replaced by any kinds of logging tool that you have.</p>

<p>To use date time value, you must use an instance of <code>DateTime</code> class instead of a string.</p>

<p>There will be 2 types of exception may be thrown from this library:</p>

<ul>
<li>
<code>XmlrpcException</code>: this kind of exception will be thrown if there is an error when the server executing your request</li>
<li>
<code>NetworkException</code>: this kind of exception will be thrown if there is an error when transfer your request to server or when getting the response.</li>
</ul>

<p>For API reference, visit <a href="http://codex.Wordpress.org/XML-RPC_WordPress_API">Wordpress documentation</a> or <a href="http://letrunghieu.github.io/wordpress-xmlrpc-client/api/index.html">Library API documentation</a></p>

<h2>
<a id="user-agent-since-240" class="anchor" href="#user-agent-since-240" aria-hidden="true"><span class="octicon octicon-link"></span></a>User Agent (since 2.4.0)</h2>

<p>The library use the default User Agent when contacting with Wordpress blogs. If you want to use onother one, pass your custom User Agent string into the <code>setUserAgent</code> method. If you passed a <em>falsy</em> value (<code>null</code>, <code>false</code>, ...) the default one will be used (thank <a href="https://github.com/WarrenMoore" class="user-mention">@WarrenMoore</a>)</p>

<h2>
<a id="callbacks-and-events-since-240" class="anchor" href="#callbacks-and-events-since-240" aria-hidden="true"><span class="octicon octicon-link"></span></a>Callbacks and events (since 2.4.0)</h2>

<p>The library allow developers to listen on two events <code>Sending</code> and <code>Error</code>. You can add new closure as a callback for each events by calling <code>on&lt;event&gt;</code> method with the closure as parameter (see the <code>onError</code> example above).</p>

<h3>
<a id="onsendingevent" class="anchor" href="#onsendingevent" aria-hidden="true"><span class="octicon octicon-link"></span></a><code>onSending($event)</code>
</h3>

<p>This event is fired before each request is send to Wordpress blogs. <code>$event</code> is an array:</p>

<ul>
<li>
<code>event</code>: the name of the event, here is <code>sending</code>
</li>
<li>
<code>endpoint</code>: URL of the current endpoint</li>
<li>
<code>username</code>: current username</li>
<li>
<code>password</code>: current password</li>
<li>
<code>method</code>: current XML-RPC method</li>
<li>
<code>params</code>: parameters passed to the current method</li>
<li>
<code>request</code>: the body of the current request which will be sent</li>
<li>
<code>proxy</code>: current proxy config</li>
<li>
<code>auth</code>: current http auth config</li>
</ul>

<h3>
<a id="onerrorerrormessage-event" class="anchor" href="#onerrorerrormessage-event" aria-hidden="true"><span class="octicon octicon-link"></span></a><code>onError($errorMessage, $event)</code>
</h3>

<p>This event is fired when the library run into errors, before any exception thrown. <code>$errorMessage</code> is a string. <code>$event</code> is an array:</p>

<ul>
<li>
<code>event</code>: the name of the event, here is <code>sending</code>
</li>
<li>
<code>endpoint</code>: URL of the current endpoint</li>
<li>
<code>request</code>: the body of the current request</li>
<li>
<code>proxy</code>: current proxy config</li>
<li>
<code>auth</code>: current http auth config</li>
</ul>

<h2>
<a id="unit-testing" class="anchor" href="#unit-testing" aria-hidden="true"><span class="octicon octicon-link"></span></a>Unit testing</h2>

<p>By default, the project use recorded data as the default data for test suite. However, if you want to test with your own Wordpress installation, there are available options inside the <code>./tests/xmlrpc.yml</code> file:</p>

<ul>
<li>
<code>endpoint</code>: the url of your Wordpress XML-RPC endpoint</li>
<li>
<code>admin_login</code>: the email or username of a user with the <em>Administrator</em> role</li>
<li>
<code>admin_password</code>: the password of the admin user</li>
<li>
<code>guest_login</code>: the email or username of a user with the <em>Subscriber</em> role</li>
<li>
<code>guest_password</code>: the password of the guest user</li>
</ul>

<p>After update the <code>./tests/xmlrpc.yml</code> file, run your test again.</p>
        </article>
      </div>
    </div>
    <footer>
      <div class="owner">
      <p><a href="https://github.com/Jdesk" class="avatar"><img src="https://avatars1.githubusercontent.com/u/9715064?v=3&amp;s=60" width="48" height="48"></a> <a href="https://github.com/Jdesk">Jdesk</a> maintains <a href="https://github.com/Jdesk/brackets-git">Wordpress-xmlrpc-client</a></p>


      </div>
      <div class="creds">
        <small>This page generated using <a href="https://pages.github.com/">GitHub Pages</a><br>theme by <a href="https://twitter.com/jonrohan/">Jon Rohan</a></small>
      </div>
    </footer>
  </div>
  <div class="current-section">
    <a href="#top">Scroll to top</a>
    <a href="https://github.com/Jdesk/brackets-git/tarball/master" class="tar">tar</a><a href="https://github.com/Jdesk/brackets-git/zipball/master" class="zip">zip</a><a href="" class="code">source code</a>
    <p class="name"></p>
  </div>

            <script type="text/javascript">
            var gaJsHost = (("https:" == document.location.protocol) ? "https://ssl." : "http://www.");
            document.write(unescape("%3Cscript src='" + gaJsHost + "google-analytics.com/ga.js' type='text/javascript'%3E%3C/script%3E"));
          </script>
          <script type="text/javascript">
            try {
              var pageTracker = _gat._getTracker("UA-49054610-2");
            pageTracker._trackPageview();
            } catch(err) {}
          </script>

</body>
</html>
